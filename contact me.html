<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact — Delstarford</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <meta name="description" content="Contact Delstarford — WhatsApp, LinkedIn, Email. Includes an interactive AI FAQ bot." />
  <style>
    :root{
      --bg:#071224;
      --card:#0b1220;
      --muted:#9aa4b2;
      --accent:#6ee7b7;
      --accent-2:#60a5fa;
      --radius:12px;
      --container:900px;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#071224,#02111a);color:#eef5fb;font-size:16px;line-height:1.45}
    
    /* --- WELCOME OVERLAY STYLES --- */
    #welcomeOverlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(7, 18, 36, 0.98);
      backdrop-filter: blur(10px);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      transition: opacity 0.5s ease;
      padding: 20px;
    }
    .welcome-content h1 { font-size: 2.5rem; color: var(--accent); margin-bottom: 1rem; }
    .welcome-content p { font-size: 1.1rem; color: var(--muted); max-width: 600px; margin: 0 auto 2rem auto; font-style: italic; }
    .start-btn {
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      color: #071224; border: none; padding: 16px 32px;
      font-size: 1.1rem; font-weight: 800; border-radius: 50px;
      cursor: pointer; box-shadow: 0 0 25px rgba(96, 165, 250, 0.3);
      transition: transform 0.2s;
    }
    .start-btn:hover { transform: scale(1.05); }

    /* --- MAIN LAYOUT --- */
    .wrap{width:92%;max-width:var(--container);margin:3.5rem auto;padding:1.25rem}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.25rem}
    a.brand{font-weight:800;color:var(--accent);text-decoration:none;font-size:1.1rem}
    .grid{display:grid;grid-template-columns:360px 1fr;gap:1rem}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:1rem;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0 0 0.25rem 0}
    p.muted{color:var(--muted);margin-top:0}
    
    /* Channels */
    .channels{display:flex;flex-direction:column;gap:0.6rem;margin-top:0.6rem}
    .channel{display:flex;align-items:center;gap:0.75rem;padding:0.6rem;border-radius:10px;background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.02)}
    .channel .meta{flex:1}
    .channel h4{margin:0;font-size:0.98rem}
    .channel p{margin:0;color:var(--muted);font-size:0.9rem}
    .actions{display:flex;gap:0.5rem;flex-wrap:wrap}
    .btn{display:inline-block;padding:0.45rem 0.75rem;border-radius:10px;text-decoration:none;font-weight:600;border:1px solid rgba(255,255,255,0.03);cursor:pointer;background:transparent;color:var(--accent-2)}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#031025;border:1px solid transparent}
    .btn.ghost{background:transparent}
    
    /* Form */
    form.contact{display:flex;flex-direction:column;gap:0.6rem}
    label{font-size:0.9rem;color:var(--muted)}
    input[type="text"], input[type="email"], textarea, select{
      background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);padding:0.6rem;border-radius:8px;color:#eaf6ff;font-size:0.95rem
    }
    .row{display:flex;gap:0.6rem}
    .row .col{flex:1}
    .form-actions{display:flex;gap:0.6rem;align-items:center;margin-top:0.4rem}
    .status{color:var(--accent-2);min-height:1.4rem}
    footer{margin-top:1.5rem;color:var(--muted);font-size:0.95rem;text-align:center}

    /* --- AI CHATBOT WIDGET STYLES --- */
    .ai-bot {
        margin-top: 1.5rem;
        border-top: 1px solid rgba(255,255,255,0.05);
        padding-top: 1rem;
    }
    .chat-window {
        height: 150px;
        background: rgba(0,0,0,0.2);
        border-radius: 8px;
        padding: 10px;
        overflow-y: auto;
        margin-bottom: 10px;
        font-size: 0.9rem;
        border: 1px solid rgba(255,255,255,0.02);
    }
    .bot-msg { color: var(--accent); margin-bottom: 6px; }
    .user-msg { color: var(--accent-2); text-align: right; margin-bottom: 6px; }
    .bot-input-group { display: flex; gap: 5px; }

    @media (max-width:920px){ .grid{grid-template-columns:1fr} .row{flex-direction:column} }
  </style>
</head>
<body>

  <div id="welcomeOverlay">
    <div class="welcome-content">
      <h1>Contact Delstarford</h1>
      <p>"Science knows no country, because knowledge belongs to humanity, and is the torch which illuminates the world."</p>
      <button class="start-btn" onclick="enterSite()">Connect for Success</button>
    </div>
  </div>

  <div class="wrap" role="main">
    <header>
      <a class="brand" href="index.html">Delstarford</a>
      <nav aria-label="Secondary">
        <a class="btn" href="index.html">Home</a>
        <a class="btn" href="projects.html">Projects</a>
        <a class="btn" href="resume.html">Resume</a>
      </nav>
    </header>

    <section class="grid" aria-labelledby="contact-title">
      <aside class="card" aria-label="Contact channels">
        <h1 id="contact-title">Contact me</h1>
        <p class="muted">Choose your preferred platform or ask my AI assistant about me. </p>

        <div class="channels" role="list">
          <div class="channel" role="listitem" aria-label="WhatsApp">
            <div class="meta">
              <h4>WhatsApp</h4>
              <p>Quick messages and voice notes. Typical response time: a few hours.</p>
            </div>
            <div class="actions">
              <a id="wa-btn" class="btn" href="https://wa.me/254707605751?text=Hi%20Delstarford%2C%20I%27d%20like%20to%20talk%20about..." target="_blank" rel="noopener">Open WhatsApp</a>
              <button class="btn ghost" onclick="copyToClipboard('+254707605751')">Copy</button>
            </div>
          </div>

          <div class="channel" role="listitem" aria-label="Phone call">
            <div class="meta">
              <h4>Call</h4>
              <p>Prefer a quick call? Tap to call from a phone.</p>
            </div>
            <div class="actions">
              <a id="call-btn" class="btn" href="tel:+254707605751">Call</a>
              <button class="btn ghost" onclick="copyToClipboard('+254707605751')">Copy</button>
            </div>
          </div>
        </div>

        <div class="ai-bot">
            <h4>Ask Delstarford AI</h4>
            <p class="muted" style="font-size:0.85rem">Ask anything about my skills, location, or vision.</p>
            <div class="chat-window" id="chatWindow">
                <div class="bot-msg">Bot: Hello! Ask me anything about Delstarford.</div>
            </div>
            <div class="bot-input-group">
                <input type="text" id="botInput" placeholder="Type a question..." onkeypress="handleBotKey(event)">
                <button class="btn primary" onclick="askBot()">Ask</button>
            </div>
        </div>
      </aside>

      <main class="card" aria-label="Contact form">
        <h2 style="margin-top:0">Send a message</h2>
        <p class="muted">I read every message. Success in science comes from collaboration. Use the form to request a callback.</p>

        <form id="contact-form" class="contact" novalidate>
          <label for="name">Your name</label>
          <input id="name" name="name" type="text" placeholder="Full name" required minlength="2" />

          <label for="email">Your email</label>
          <input id="email" name="email" type="email" placeholder="youremail@gmail.com" required />

          <div class="row">
            <div class="col">
              <label for="phone">Phone (optional)</label>
              <input id="phone" name="phone" type="text" placeholder="+254707605751" />
            </div>
            <div class="col">
              <label for="pref-channel">Preferred channel</label>
              <select id="pref-channel" name="pref_channel" aria-label="Preferred contact channel">
                <option value="whatsapp">WhatsApp</option>
                <option value="call">Call</option>
                <option value="email" selected>Email</option>
                <option value="linkedin">LinkedIn</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>

          <label for="subject">Subject</label>
          <input id="subject" name="subject" type="text" placeholder="Short subject" required minlength="3" />

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="6" placeholder="Briefly describe your project or inquiry..." required minlength="10"></textarea>

          <div class="form-actions">
            <button id="submit-btn" class="btn primary" type="submit">Send message</button>
            <button id="clear-btn" class="btn" type="button">Clear</button>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:0.4rem">
            <div id="form-status" class="status" aria-live="polite"></div>
          </div>
        </form>
      </main>
    </section>

    <footer>
      <p>© <span id="year"></span> Delstarford — Preferred contact: WhatsApp / Email / Call</p>
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- WELCOME SPEECH LOGIC ---
    function enterSite() {
        const overlay = document.getElementById('welcomeOverlay');
        overlay.style.opacity = '0';
        setTimeout(() => overlay.style.display = 'none', 500);
        playWelcomeSpeech();
    }

    function playWelcomeSpeech() {
        const synth = window.speechSynthesis;
        // Success quote included
        const text = "Welcome to the Contact Hub. Louis Pasteur once said, 'Science knows no country, because knowledge belongs to humanity, and is the torch which illuminates the world.' Delstarford is dedicated to this vision of success through technology and agriculture. Please, use the contact form to collaborate, or ask the automatic A I assistant any questions you have about Delstarford right now.";
        
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.rate = 1;
        synth.speak(utterance);
    }

    // --- AI BOT LOGIC ---
    function handleBotKey(e) { if(e.key === 'Enter') askBot(); }

    function askBot() {
        const input = document.getElementById('botInput');
        const chat = document.getElementById('chatWindow');
        const question = input.value.toLowerCase().trim();
        if(!question) return;

        // 1. Add User Message
        chat.innerHTML += `<div class="user-msg">You: ${input.value}</div>`;
        input.value = '';

        // 2. Determine Answer (Simple Keyword Matching)
        let answer = "I didn't quite catch that. Please ask about skills, location, or projects.";
        
        if(question.includes('who') || question.includes('delstarford')) {
            answer = "Delstarford is an Agri-Tech and AI developer specializing in Machine Learning and Full-Stack solutions.";
        } else if(question.includes('location') || question.includes('where')) {
            answer = "Delstarford is based in Kakamega, Kenya.";
        } else if(question.includes('skill') || question.includes('tech') || question.includes('stack')) {
            answer = "Core skills include Python, Flask, React, TensorFlow, IoT integration, and Data Analysis.";
        } else if(question.includes('project') || question.includes('work')) {
            answer = "Major projects include AniproAI (Livestock), B-KING (Banking), and Plant Pathology AI.";
        } else if(question.includes('contact') || question.includes('email') || question.includes('number')) {
            answer = "You can contact me via the form on the right, or call/WhatsApp +254707605751.";
        } else if(question.includes('success') || question.includes('vision')) {
            answer = "My vision is to leverage AI to solve real-world problems in Agriculture and Health for a better future.";
        }

        // 3. Simulate Typing Delay & Add Bot Message
        setTimeout(() => {
            chat.innerHTML += `<div class="bot-msg">Bot: ${answer}</div>`;
            chat.scrollTop = chat.scrollHeight; // Auto scroll to bottom
            
            // Speak the answer automatically
            const u = new SpeechSynthesisUtterance(answer);
            window.speechSynthesis.speak(u);
        }, 600);
    }

    // --- FORM & UTILS ---
    function copyToClipboard(text){
      if(navigator.clipboard){
        navigator.clipboard.writeText(text).then(()=> showStatus('Copied to clipboard'));
      } else {
        // Fallback
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
        try { document.execCommand('copy'); showStatus('Copied to clipboard'); } catch(e){ showStatus('Copy failed'); }
        document.body.removeChild(ta);
      }
    }

    function showStatus(msg, isError=false){
      const el = document.getElementById('form-status');
      el.textContent = msg;
      el.style.color = isError ? '#ffb4b4' : '';
      setTimeout(()=> el.textContent = '', 6000);
    }

    document.getElementById('clear-btn').addEventListener('click', () => {
      document.getElementById('contact-form').reset();
    });

    // Simple Mailto Submission
    document.getElementById('contact-form').addEventListener('submit', function(ev){
      ev.preventDefault();
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const message = document.getElementById('message').value;
      const subject = document.getElementById('subject').value;
      
      const body = `Name: ${name}\nEmail: ${email}\n\n${message}`;
      window.location.href = `mailto:delstarfordisaiah@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      showStatus('Opening your email client...');
    });
  </script>
</body>
</html>